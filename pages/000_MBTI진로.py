import streamlit as st

# --- 제목 ---
st.title("🌟 MBTI 취향 기반 애니 & 영화 추천기 🌟")
st.write("당신의 성격 속에 숨겨진 이야기의 향기를 찾아드릴게요... 🍃")

# --- MBTI 선택 ---
mbti_list = [
    "ISTJ","ISFJ","INFJ","INTJ",
    "ISTP","ISFP","INFP","INTP",
    "ESTP","ESFP","ENFP","ENTP",
    "ESTJ","ESFJ","ENFJ","ENTJ"
]

selected_mbti = st.selectbox("당신의 MBTI를 선택해주세요 💫", mbti_list)

# --- 추천 데이터 ---
recommendations = {
    "ISTJ": {
        "anime": ["진격의 거인", "강철의 연금술사"],
        "movie": ["인셉션", "인터스텔라"],
        "reason": "당신은 질서와 원칙 속에서도 진실을 찾아가는 사람. 논리와 신념이 부서져도, 결국 끝까지 나아가죠."
    },
    "ISFJ": {
        "anime": ["이웃집 토토로", "귀멸의 칼날"],
        "movie": ["업", "원더"],
        "reason": "당신은 따스한 마음을 가진 수호자. 남을 위한 희생 속에서도 묵묵히 사랑을 전하는 영혼이에요."
    },
    "INFJ": {
        "anime": ["너의 이름은", "나나"],
        "movie": ["이터널 선샤인", "비포 선셋"],
        "reason": "감정의 파도를 읽어내는 통찰력자. 당신의 내면엔 언제나 깊은 이야기와 낭만이 흐르고 있어요."
    },
    "INTJ": {
        "anime": ["데스노트", "공각기동대"],
        "movie": ["매트릭스", "셜록 홈즈"],
        "reason": "차분한 전략가. 세상을 한 수 앞서 읽으며, 이성 속에서도 미묘한 열정을 숨기고 있군요."
    },
    "ISTP": {
        "anime": ["사무라이 참프루", "도쿄 구울"],
        "movie": ["매드맥스: 분노의 도로", "존 윅"],
        "reason": "냉철하고도 대담한 모험가. 상황을 통제하며, 행동으로 증명하는 타입이죠."
    },
    "ISFP": {
        "anime": ["하이큐!!", "모노노케 히메"],
        "movie": ["라라랜드", "월-E"],
        "reason": "자유롭고 감성적인 예술가. 당신의 감정은 세상을 더 아름답게 물들이고 있어요."
    },
    "INFP": {
        "anime": ["센과 치히로의 행방불명", "날씨의 아이"],
        "movie": ["어바웃 타임", "월터의 상상은 현실이 된다"],
        "reason": "꿈꾸는 낭만주의자. 현실보다 마음의 진심을 더 소중히 여기는 당신, 세상은 당신 같은 사람으로 따뜻해요."
    },
    "INTP": {
        "anime": ["스즈메의 문단속", "스파이 패밀리"],
        "movie": ["소셜 네트워크", "엑스 마키나"],
        "reason": "지적 호기심이 끝없는 사색가. 세상의 규칙을 해체하며 새로운 의미를 만들어내는 창조자예요."
    },
    "ESTP": {
        "anime": ["원피스", "쿠로코의 농구"],
        "movie": ["분노의 질주", "킹스맨"],
        "reason": "현실을 즐기며 살아가는 생동감 넘치는 모험가. 당신의 에너지는 모두를 끌어당기죠."
    },
    "ESFP": {
        "anime": ["러브라이브", "블루 피리어드"],
        "movie": ["맘마미아!", "그레이트 쇼맨"],
        "reason": "무대 위의 주인공 같은 당신. 웃음과 감동으로 세상을 반짝이게 만드는 천성적인 아티스트예요."
    },
    "ENFP": {
        "anime": ["호소키 타로의 영혼상담소", "스즈메의 문단속"],
        "movie": ["인사이드 아웃", "500일의 썸머"],
        "reason": "자유로운 영혼, 사랑스러운 혼돈. 당신의 상상력은 세상을 조금 더 특별하게 바꿔요."
    },
    "ENTP": {
        "anime": ["진격의 거인", "코드 기아스"],
        "movie": ["아이언맨", "인셉션"],
        "reason": "끝없는 아이디어와 논쟁의 불꽃. 당신은 세상을 깨우는 도전의 아이콘이에요."
    },
    "ESTJ": {
        "anime": ["블리치", "헌터 x 헌터"],
        "movie": ["다크 나이트", "캐치 미 이프 유 캔"],
        "reason": "현실적이고 강한 리더십의 소유자. 혼돈 속에서도 질서를 세우는 당신은 모두의 중심이에요."
    },
    "ESFJ": {
        "anime": ["클라나드", "카드캡터 사쿠라"],
        "movie": ["미녀와 야수", "러브 액츄얼리"],
        "reason": "따뜻하고 다정한 조화의 사람. 당신이 있는 곳엔 언제나 웃음과 평화가 피어나요."
    },
    "ENFJ": {
        "anime": ["진격의 거인", "나루토"],
        "movie": ["타이타닉", "굿 윌 헌팅"],
        "reason": "사람을 믿고 이끄는 리더형. 진심 어린 헌신과 열정으로 모두를 감동시키죠."
    },
    "ENTJ": {
        "anime": ["코드 기아스", "진격의 거인"],
        "movie": ["인셉션", "조커"],
        "reason": "결단력과 비전을 가진 지휘관. 당신은 세상을 계획하고, 결국 그 중심에 서게 돼요."
    },
}

# --- 결과 출력 ---
if st.button("✨ 나에게 어울리는 작품 보기 ✨"):
    info = recommendations.get(selected_mbti)
    if info:
        st.subheader(f"💖 {selected_mbti} 유형을 위한 추천 💖")
        st.write(f"**이유:** {info['reason']}")
        st.markdown("🎬 **추천 애니**:")
        st.write("・ " + " / ".join(info["anime"]))
        st.markdown("🍿 **추천 영화**:")
        st.write("・ " + " / ".join(info["movie"]))
    else:
        st.error("죄송해요, 해당 MBTI의 추천 정보를 찾을 수 없어요 😢")

st.markdown("---")
st.caption("✨ 당신의 성격 속에 숨겨진 이야기를 함께 찾아볼까요?")
